# █░█░█ █ █▄░█ █▀▄ █▀█ █░█░█   █▀█ █░█ █░░ █▀▀ █▀
# ▀▄▀▄▀ █ █░▀█ █▄▀ █▄█ ▀▄▀▄▀   █▀▄ █▄█ █▄▄ ██▄ ▄█

# See https://wiki.hyprland.org/Configuring/Window-Rules/

###############################################
# Window Opacity Settings
###############################################

# Browsers and Editors
windowrulev2 = opacity 0.95 0.95,class:^(firefox)$
windowrulev2 = opacity 0.90 0.90,class:^(zen-beta)$
windowrulev2 = opacity 0.90 0.90,class:^(Brave-browser)$
windowrulev2 = opacity 0.95 0.95,class:^(Steam)$
windowrulev2 = opacity 0.85 0.85,class:^(steam)$
windowrulev2 = opacity 0.95 0.95,class:^(steamwebhelper)$
windowrulev2 = opacity 0.95 0.95,class:^(code-oss)$
windowrulev2 = opacity 0.95 0.95,class:^(code-oss-url-handler)$
windowrulev2 = opacity 0.90 0.90,class:^(code)$
windowrulev2 = opacity 0.90 0.90,class:^(code-url-handler)$

# Applications
windowrulev2 = opacity 0.95 0.95,class:^(virt-manager)$
windowrulev2 = opacity 0.80 0.80,class:^(Spotify)$
windowrulev2 = opacity 0.85 0.85,class:^(discord)$
# windowrulev2 = opacity 0.90 0.90,class:^(jetbrains-studio.*)

# File Managers
windowrulev2 = opacity 0.80 0.80,class:^(org.kde.dolphin)$
windowrulev2 = opacity 0.80 0.80,class:^(nemo)$
windowrulev2 = opacity 0.80 0.80,class:^(thunar)$

# Other Applications and Utilities
windowrulev2 = opacity 0.70 0.70,class:^(arqiver)$
windowrulev2 = opacity 0.70 0.70,class:^(file-roller)$
windowrulev2 = opacity 0.95 0.95,class:^(org.kde.ark)$
windowrulev2 = opacity 0.95 0.95,class:^(nwg-look)$
windowrulev2 = opacity 0.95 0.95,class:^(qt5ct)$
windowrulev2 = opacity 0.95 0.95,class:^(org.kde.partitionmanager)$
windowrulev2 = opacity 0.95 0.95,class:^(stacer)$
windowrulev2 = opacity 0.77 0.77,class:^(elisa)$
windowrulev2 = opacity 0.95 0.95,class:^(Xwayland)$
windowrulev2 = opacity 0.95 0.95,class:^(github-desktop)$
windowrulev2 = opacity 0.80 0.80,class:^(org.freedesktop.impl.portal.desktop.gtk)$
windowrulev2 = opacity 0.80 0.80,class:^(org.freedesktop.impl.portal.desktop.hyprland)$
windowrulev2 = opacity 0.80 0.80,class:^(xfce4-about)$
windowrulev2 = opacity 0.89 0.89,class:^(com.ayugram.desktop)$
windowrulev2 = opacity 0.89 0.89,class:^(io.github.tdesktop_x64.TDesktop)$
windowrulev2 = opacity 0.80 0.80,class:^(org.pulseaudio.pavucontrol)$
windowrulev2 = opacity 0.90 0.90,class:^(org.kde.kwrite)$
windowrulev2 = opacity 0.90 0.90,class:^(polkit-gnome-authentication-agent-.*)$
windowrulev2 = opacity 0.90 0.90,title:^(Authenticate)$
windowrulev2 = opacity 0.90 0.90,title:^(GitHub Desktop)$
windowrulev2 = opacity 0.85 0.85,class:^(com.github.th_ch.youtube_music)$

# xdg portals
windowrulev2 = opacity 0.95 0.95,class:^(xdg-desktop-portal-gtk)$
windowrulev2 = opacity 0.95 0.95,class:^(xdg-desktop-portal-lxqt)$

# Miscellaneous
windowrulev2 = opacity 0.80 0.80,class:^(org.freedesktop.impl.portal.FileChooser)$
windowrulev2 = opacity 0.80 0.80,class:^(xdg-document-porta)$
windowrulev2 = opacity 0.80 0.80,class:^(firewall-config)$
windowrulev2 = opacity 0.80 0.80,title:^(Preferences)$
windowrulev2 = opacity 0.80 0.80,class:^(com.usebottles.bottles)$
windowrulev2 = opacity 0.90 0.90,class:^(electron)$
windowrulev2 = opacity 0.90 0.90,class:^(electron27)$
windowrulev2 = opacity 0.90 0.90,class:^(Spotify)$
windowrulev2 = opacity 0.90 0.90,class:^(electron28)$
windowrulev2 = opacity 0.90 0.90,class:^(electron29)$
windowrulev2 = opacity 0.80 0.80,class:^(YouTube Music)$
windowrulev2 = opacity 0.90 0.90,class:^(com.github.rafostar.Clapper)$
windowrulev2 = opacity 0.95 0.95,class:^(com.github.tchx84.Flatseal)$
windowrulev2 = opacity 0.95 0.95,class:^(hu.kramo.Cartridges)$
windowrulev2 = opacity 0.95 0.95,class:^(com.obsproject.Studio)$
windowrulev2 = opacity 0.95 0.95,class:^(gnome-boxes)$
windowrulev2 = opacity 0.80 0.80,class:^(vesktop)$
windowrulev2 = opacity 0.85 0.85,class:^(Vesktop)$
windowrulev2 = opacity 0.95 0.95,class:^(app.drey.Warp)$
windowrulev2 = opacity 0.95 0.95,class:^(net.davidotek.pupgui2)$
windowrulev2 = opacity 0.95 0.95,class:^(yad)$
windowrulev2 = opacity 0.95 0.95,class:^(Signal)$
windowrulev2 = opacity 0.95 0.95,class:^(io.gitlab.theevilskeleton.Upscaler)$
windowrulev2 = opacity 0.80 0.80,class:^(org.kde.kdeconnect-settings)$
windowrulev2 = opacity 0.80 0.80,class:^(org.kde.kdeconnect)$
windowrulev2 = opacity 0.80 0.80,class:^(org.kde.kdeconnect-indicator)$
windowrulev2 = opacity 0.80 0.80,class:^(org.kde.kdeconnect-handler)$
windowrulev2 = opacity 0.80 0.80,class:^(org.kde.kdeconnect-app)$
windowrulev2 = opacity 0.80 0.80,class:^(org.kde.kdeconnect-cli)$
windowrulev2 = opacity 0.80 0.80,class:^(org.kde.kdeconnect-sms)$
windowrulev2 = opacity 0.95 0.90,class:^(pavucontrol)$
windowrulev2 = opacity 0.90 0.90,class:^(blueman-manager)$
windowrulev2 = opacity 0.95 0.90,class:^(nm-applet)$
windowrulev2 = opacity 0.90 0.90,class:^(emote)$
windowrulev2 = opacity 0.95 0.90,class:^(nm-connection-editor)$
windowrulev2 = opacity 0.95 0.90,class:^(org.kde.polkit-kde-authentication-agent-1)$
windowrulev2 = opacity 0.95 0.90,class:^(lxqt-policykit-agent)$
windowrulev2 = opacity 0.95 0.90,class:^(tabnine_chat)$


###############################################
# Focus and Idle Inhibition Rules
###############################################

# Avoid idle for specific applications
windowrulev2 = idleinhibit focus, class:^(xdg-desktop-portal-gtk)$
windowrulev2 = idleinhibit focus, class:^(xdg-desktop-portal-lxqt)$
windowrulev2 = idleinhibit focus, class:^(emote)$
windowrulev2 = idleinhibit focus, class:^(Stremio)$
windowrulev2 = idleinhibit focus, title:^(Open Files)$
windowrulev2 = idleinhibit focus, title:^(Choose Files)$
windowrulev2 = idleinhibit focus, class:^(com.stremio.stremio)$
windowrulev2 = idleinhibit focus, class:^(mpv)$
windowrulev2 = idleinhibit focus, class:^(firefox)$,title:^(.+ - YouTube — Mozilla Firefox)$
windowrulev2 = idleinhibit focus, class:^(firefox)$,title:^(Picture-in-Picture)$
windowrulev2 = idleinhibit focus, class:^(polkit-gnome-authentication-agent-.*)$,title:^(Authenticate)$
windowrulev2 = idleinhibit focus, title:^(Authenticate)$

# windowrule v2 to avoid idle for fullscreen apps
windowrulev2 = idleinhibit fullscreen, class:^(*)$
windowrulev2 = idleinhibit fullscreen, title:^(*)$
windowrulev2 = idleinhibit fullscreen, fullscreen:1

# Firefox Specific Rules
windowrulev2 = float, class:(firefox), title:(Picture-in-Picture)
windowrulev2 = keepaspectratio, class:(firefox), title:(Picture-in-Picture)
windowrulev2 = float, class:(firefox), title:(Estensione: (Bitwarden - Gestore di Password Gratis) - Bitwarden – Mozilla Firefox) # doesn't work as the initial title is always "Mozilla Firefox"

# zen Browser 
windowrulev2 = float, class:(zen-alpha), title:(Picture-in-Picture)
windowrulev2 = keepaspectratio, class:(zen-alpha), title:(Picture-in-Picture)
windowrulev2 = float, class:(zen-alpha), title:(Estensione: (Bitwarden - Gestore di Password Gratis) - Bitwarden – Mozilla Firefox) # doesn't work as the initial title is always "Mozilla Firefox"

###############################################
# Centering Rules
###############################################

windowrule = center,^(pavucontrol|org.pulseaudio.pavucontrol|com.saivert.pwvucontrol)
windowrule = center,^([Ww]hatsapp-for-linux)$
windowrule = center,^([Ff]erdium)$


###############################################
# Floating Window Rules
###############################################

# JetBrains Applications (Android Studio, IntelliJ, etc.)
windowrulev2 = size 800 550, class:^(qalculate-gtk)$
windowrulev2 = noinitialfocus, class:^(jetbrains-.*)$,title:^(win.*)$
windowrulev2 = float, class:(jetbrains-studio), title:(Welcome to Android Studio)
windowrulev2 = center, class:^(jetbrains-.*)$,title:^(splash)$,floating:1
windowrulev2 = noborder, class:^(jetbrains-.*)$,title:^(splash)$,floating:1
windowrulev2 = center, class:^(jetbrains-.*)$,title:^( )$,floating:1
windowrulev2 = stayfocused, class:^(jetbrains-.*)$,title:^( )$,floating:1
windowrulev2 = noborder, class:^(jetbrains-.*)$,title:^(win.*)$,floating:1


# Float Rules for File Managers
windowrulev2 = float, class:^(pcmanfm-qt)$,title:^(Mount)$
windowrulev2 = float, class:^(pcmanfm-qt)$,title:^(Preferences)$
windowrulev2 = float, class:^(pcmanfm-qt)$,title:^(Move files)$
windowrulev2 = float, class:^(pcmanfm-qt)$,title:^(Search Files)$
windowrulev2 = float, class:^(pcmanfm-qt)$,title:^(Copy Files)$
windowrulev2 = float, class:^(pcmanfm-qt)$,title:^(Confirm to replace files)$
windowrulev2 = float, class:^(pcmanfm-qt)$,title:^(Copying)$
windowrulev2 = float, class:^(pcmanfm-qt)$,title:^(File Already Exist)$
windowrulev2 = float,title:^(Copying - Dolphin)$
windowrulev2 = float,title:^(Welcome-.*)$
windowrulev2 = float, class:^(pavucontrol)$
windowrulev2 = float, title:^(Open Files)$
windowrulev2 = float, title:^(Choose Files)$

# General Float Rules
windowrulev2 = float, class:^(file_progress)$
windowrulev2 = float, class:^(confirm)$
windowrulev2 = float, class:^(dialog)$
windowrulev2 = float, class:^(download)$
windowrulev2 = float, class:^(notification)$
windowrulev2 = float, class:^(error)$
windowrulev2 = float, class:^(splash)$
windowrulev2 = float, class:^(confirmreset)$
windowrulev2 = float, class:^(org.kde.kdeconnect)$
windowrulev2 = float, class:^(org.kde.kdeconnect-settings)$
windowrulev2 = float, class:^(org.kde.kdeconnect-indicator)$
windowrulev2 = float, class:^(org.kde.kdeconnect-handler)$
windowrulev2 = float, class:^(org.kde.kdeconnect-app)$
windowrulev2 = float, class:^(org.kde.kdeconnect-cli)$
windowrulev2 = float, class:^(org.kde.kdeconnect-sms)$
windowrulev2 = float, class:^(xdg-desktop-portal-gtk)$
windowrulev2 = float,class:^(arqiver)$
windowrulev2 = float,class:^(file-roller)$
windowrulev2 = float,class:^(github-desktop)$
windowrulev2 = float,class:^(android-studio)$
windowrulev2 = float,class:^(stacer)$
windowrulev2 = float,class:^(nwg-look)$
windowrulev2 = float,class:^(org.kde.ark)$
windowrulev2 = float,class:^(Signal)$
windowrulev2 = float,class:^(com.github.rafostar.Clapper)$
windowrulev2 = float,class:^(app.drey.Warp)$
windowrulev2 = float,class:^(net.davidotek.pupgui2)$
windowrulev2 = float,class:^(yad)$
windowrulev2 = float,class:^(eog)$
windowrulev2 = float,class:^(io.gitlab.theevilskeleton.Upscaler)$
windowrulev2 = float,class:^(org.pulseaudio.pavucontrol)$
windowrulev2 = float,class:^(blueman-manager)$
windowrulev2 = float,class:^(nm-applet)$
windowrulev2 = float,class:^(nm-connection-editor)$
windowrulev2 = float,class:^(org.kde.polkit-kde-authentication-agent-1)$

###############################################
# Layer Rules
###############################################

layerrule = blur,waybar
layerrule = blur,ags
layerrule = unset,class:^([Rr]ofi)$
layerrule = blur,class:^([Rr]ofi)$
layerrule = ignorezero, <rofi>
layerrule = ignorezero, overview
layerrule = blur, overview
layerrule = ignorezero,swaync-notification-window
layerrule = blur,swaync-notification-window
layerrule = ignorezero,swaync-control-center
layerrule = blur,swaync-control-center
layerrule = blur,logout_dialog

###############################################
# Disabled Configurations
###############################################

# JetBrains Fixes (Disabled)
# windowrulev2 = opacity 0.90 0.93,class:^(jetbrains-.*)$
# windowrulev2 = windowdance, class:^(jetbrains-.*)$,floating:1
# windowrulev2 = nofocus, class:^(jetbrains-.*)$,title:^(splash)$,floating:1
# windowrulev2 = nofocus, class:^(jetbrains-.*)$,title:^(win.*)$

# Floating Windows (Disabled)
# windowrulev2 = float,class:^(kitty)$

# Waybar transparency (Disabled)
#

# Brightness Control (Commented Out)
# bindel = Alt_R, Up, exec, $scrPath/external-m-ctl.sh i # increase brightness for external monitor
# bindel = Alt_R, Down, exec, $scrPath/external-m-ctl.sh d # increase brightness for external monitor


# Layer Rules (Commented Out)
# layerrule = blur,rofi
